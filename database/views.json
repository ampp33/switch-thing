{
  "_id": "_design/switch-designs",
  "_rev": "6-cd00bf9eb1df7ffa16b4dcb4a7678b1f",
  "views": {
    "find-switch-by-slug": {
      "map": "function (doc) {\n  emit(doc.name.toLowerCase().replaceAll(' ','-'), doc);\n}"
    },
    "switch-filters": {
      "map": "function (doc) {\n  if(doc.company) emit('company', ...doc.company)\n  if(doc.manufacturer) emit('manufacturer', doc.manufacturer)\n  if(doc.type) emit('type', doc.type)\n  if(doc.specs) {\n    for(const spec of doc.specs) {\n      if(spec.actuation) emit('weight', spec.actuation)\n      if(spec.stem && spec.stem.material) emit('stem_material', spec.stem.material)\n      if(spec.bottom_housing && spec.bottom_housing.material) emit('bottom_material', spec.bottom_housing.material)\n      if(spec.stem && spec.top_housing.material) emit('top_material', spec.top_housing.material)\n    }\n  }\n}",
      "reduce": "function (keys, values, rereduce) {\n  const set = new Set()\n  if(rereduce) for(const val of values) val.map(v => set.add(v))\n  else values.map(v => set.add(v))\n  const arr = Array.from(set)\n  if(arr.length > 0 && typeof(arr[0]) == 'string') return arr.sort()\n  else return arr.sort((a,b) => a-b)\n}"
    }
  },
  "language": "javascript"
}